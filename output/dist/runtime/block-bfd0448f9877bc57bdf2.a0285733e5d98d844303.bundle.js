
(window['dojoWebpackJsonplearn_dojo'] = window['dojoWebpackJsonplearn_dojo'] || []).push([['runtime/block-bfd0448f9877bc57bdf2'],{
/***/ 'runtime/block-bfd0448f9877bc57bdf2.js':
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {
"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({"content":{"tag":"div","children":[{"tag":"p","children":["Dojo provides a ",{"tag":"a","children":["middleware system"],"properties":{"href":"https://dojo.io/learn/middleware/introduction","target":"_blank","rel":"nofollow","key":3},"type":"__VNODE_TYPE"}," that you can use in developing widgets for your applications. There is a comprehensive list of ",{"tag":"a","children":["available middleware"],"properties":{"href":"https://dojo.io/learn/middleware/available-middleware","target":"_blank","rel":"nofollow","key":4},"type":"__VNODE_TYPE"}," that you can use to manage local widget state, styling, or DOM related information."],"properties":{"key":5},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["Middleware is really interesting because they can be used to help you interact with the DOM or with the properties of your widget."],"properties":{"key":6},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["You can create middleware the same way you would a widget, except instead of return a vnode, you could return an object or function that can be used to do some extra work for your widget."],"properties":{"key":7},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["The Dojo documentation touches on ",{"tag":"a","children":["creating your own middleware"],"properties":{"href":"https://dojo.io/learn/middleware/middleware-fundamentals#creating-middleware","target":"_blank","rel":"nofollow","key":8},"type":"__VNODE_TYPE"},". How could you implement your own custom middleware for your own widgets?"],"properties":{"key":9},"type":"__VNODE_TYPE"},"\n",{"tag":"h2","children":["Validation Middleware"],"properties":{"id":"validation-middleware","key":10},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["Maybe I'm building some form based widgets and I want to provide my own validation. For example, I might want to validate that a phone number is entered correctly."],"properties":{"key":11},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["In this case, I'm interested in wrapping an input in some form of validation. So I'm going to create a ",{"tag":"code","children":["PhoneValidator"],"properties":{"key":12},"type":"__VNODE_TYPE"}," widget to wrap DOM ",{"tag":"code","children":["input"],"properties":{"key":13},"type":"__VNODE_TYPE"},". The result would look something like this."],"properties":{"key":14},"type":"__VNODE_TYPE"},"\n",{"tag":"pre","children":[{"tag":"code","children":[{"tag":"span","children":["// src/widgets/PhoneNumber.tsx"],"properties":{"class":"token comment","key":15},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":16},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":17},"type":"__VNODE_TYPE"}," create",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":18},"type":"__VNODE_TYPE"}," tsx ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":19},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":20},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/core/vdom\""],"properties":{"class":"token string","key":21},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":22},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":23},"type":"__VNODE_TYPE"}," icache ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":24},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/core/middleware/icache\""],"properties":{"class":"token string","key":25},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":26},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":27},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["PhoneValidator"],"properties":{"class":"token maybe-class-name","key":28},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":29},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"./PhoneValidator\""],"properties":{"class":"token string","key":30},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":31},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":32},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["*"],"properties":{"class":"token operator","key":33},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["as"],"properties":{"class":"token keyword","key":34},"type":"__VNODE_TYPE"}," css ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":35},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"./styles/PhoneNumber.m.css\""],"properties":{"class":"token string","key":36},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":37},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":38},"type":"__VNODE_TYPE"}," factory ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":39},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["create"],"properties":{"class":"token function","key":40},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":41},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":42},"type":"__VNODE_TYPE"}," icache ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":43},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":44},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":45},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["export"],"properties":{"class":"token keyword","key":46},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":47},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["PhoneNumber"],"properties":{"class":"token maybe-class-name","key":48},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":49},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["factory"],"properties":{"class":"token function","key":50},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":51},"type":"__VNODE_TYPE"},{"tag":"span","children":["function"],"properties":{"class":"token keyword","key":52},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":[{"tag":"span","children":["PhoneNumber"],"properties":{"class":"token maybe-class-name","key":53},"type":"__VNODE_TYPE"}],"properties":{"class":"token function","key":54},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":55},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":56},"type":"__VNODE_TYPE"},"\n  middleware",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":57},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":58},"type":"__VNODE_TYPE"}," icache ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":59},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":60},"type":"__VNODE_TYPE"}],"properties":{"class":"token parameter","key":61},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":62},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":63},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["// use local phone value to pass to validator"],"properties":{"class":"token comment","key":64},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":65},"type":"__VNODE_TYPE"}," phone ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":66},"type":"__VNODE_TYPE"}," icache",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":67},"type":"__VNODE_TYPE"},{"tag":"span","children":["getOrSet"],"properties":{"class":"token method function property-access","key":68},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":69},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"phone\""],"properties":{"class":"token string","key":70},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":71},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"\""],"properties":{"class":"token string","key":72},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":73},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":74},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":75},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":76},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":77},"type":"__VNODE_TYPE"},{"tag":"span","children":["PhoneValidator"],"properties":{"class":"token class-name","key":78},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":79},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["phone"],"properties":{"class":"token attr-name","key":80},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":81},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":82},"type":"__VNODE_TYPE"},"phone",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":83},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":84},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":85},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":86},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n      "],"properties":{"class":"token plain-text","key":87},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":88},"type":"__VNODE_TYPE"},"input"],"properties":{"class":"token tag","key":89},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["placeholder"],"properties":{"class":"token attr-name","key":90},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token punctuation","key":91},"type":"__VNODE_TYPE"},{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":92},"type":"__VNODE_TYPE"},"Enter phone number",{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":93},"type":"__VNODE_TYPE"}],"properties":{"class":"token attr-value","key":94},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["pattern"],"properties":{"class":"token attr-name","key":95},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token punctuation","key":96},"type":"__VNODE_TYPE"},{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":97},"type":"__VNODE_TYPE"},"[0-9]{3}-[0-9]{3}-[0-9]{4}",{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":98},"type":"__VNODE_TYPE"}],"properties":{"class":"token attr-value","key":99},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["required"],"properties":{"class":"token attr-name","key":100},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["classes"],"properties":{"class":"token attr-name","key":101},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":102},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":103},"type":"__VNODE_TYPE"},{"tag":"span","children":["["],"properties":{"class":"token punctuation","key":104},"type":"__VNODE_TYPE"},"css",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":105},"type":"__VNODE_TYPE"},{"tag":"span","children":["root"],"properties":{"class":"token property-access","key":106},"type":"__VNODE_TYPE"},{"tag":"span","children":["]"],"properties":{"class":"token punctuation","key":107},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":108},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":109},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["type"],"properties":{"class":"token attr-name","key":110},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token punctuation","key":111},"type":"__VNODE_TYPE"},{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":112},"type":"__VNODE_TYPE"},"tel",{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":113},"type":"__VNODE_TYPE"}],"properties":{"class":"token attr-value","key":114},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["onkeyup"],"properties":{"class":"token attr-name","key":115},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":116},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":117},"type":"__VNODE_TYPE"},{"tag":"span","children":["e"],"properties":{"class":"token parameter","key":118},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["=>"],"properties":{"class":"token arrow operator","key":119},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":120},"type":"__VNODE_TYPE"},"\n          icache",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":121},"type":"__VNODE_TYPE"},{"tag":"span","children":["set"],"properties":{"class":"token keyword","key":122},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":123},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"phone\""],"properties":{"class":"token string","key":124},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":125},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":126},"type":"__VNODE_TYPE"},"e",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":127},"type":"__VNODE_TYPE"},{"tag":"span","children":["target"],"properties":{"class":"token property-access","key":128},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["as"],"properties":{"class":"token keyword","key":129},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["HTMLInputElement"],"properties":{"class":"token maybe-class-name","key":130},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":131},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":132},"type":"__VNODE_TYPE"},{"tag":"span","children":["value"],"properties":{"class":"token property-access","key":133},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":134},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":135},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":136},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":137},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":138},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["/>"],"properties":{"class":"token punctuation","key":139},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":140},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n    "],"properties":{"class":"token plain-text","key":141},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":142},"type":"__VNODE_TYPE"},{"tag":"span","children":["PhoneValidator"],"properties":{"class":"token class-name","key":143},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":144},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":145},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":146},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":147},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":148},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":149},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":150},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":151},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["export"],"properties":{"class":"token keyword","key":152},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["default"],"properties":{"class":"token keyword","key":153},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["PhoneNumber"],"properties":{"class":"token maybe-class-name","key":154},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":155},"type":"__VNODE_TYPE"},"\n"],"properties":{"class":"language-tsx","key":156},"type":"__VNODE_TYPE"}],"properties":{"class":"language-tsx","key":157},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["The idea here is that I just want the ",{"tag":"code","children":["PhoneValidator"],"properties":{"key":158},"type":"__VNODE_TYPE"}," to place a red or green outline to my input to let me know if it's a valid phone number in the input. It's pretty simple, but is something I could reuse across multiple applications."],"properties":{"key":159},"type":"__VNODE_TYPE"},"\n",{"tag":"pre","children":[{"tag":"code","children":[{"tag":"span","children":["// src/widgets/PhoneValidator.tsx"],"properties":{"class":"token comment","key":160},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":161},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":162},"type":"__VNODE_TYPE"}," create",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":163},"type":"__VNODE_TYPE"}," tsx ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":164},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":165},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/core/vdom\""],"properties":{"class":"token string","key":166},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":167},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":168},"type":"__VNODE_TYPE"}," phoneNumberMiddleware ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":169},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"../middleware/phoneNumberMiddleware\""],"properties":{"class":"token string","key":170},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":171},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":172},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["*"],"properties":{"class":"token operator","key":173},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["as"],"properties":{"class":"token keyword","key":174},"type":"__VNODE_TYPE"}," css ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":175},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"./styles/PhoneValidator.m.css\""],"properties":{"class":"token string","key":176},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":177},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["interface"],"properties":{"class":"token keyword","key":178},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["Properties"],"properties":{"class":"token class-name","key":179},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":180},"type":"__VNODE_TYPE"},"\n  phone",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":181},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["string"],"properties":{"class":"token builtin","key":182},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":183},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":184},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":185},"type":"__VNODE_TYPE"}," factory ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":186},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["create"],"properties":{"class":"token function","key":187},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":188},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":189},"type":"__VNODE_TYPE"}," phoneNumberMiddleware ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":190},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":191},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":192},"type":"__VNODE_TYPE"},{"tag":"span","children":["properties"],"properties":{"class":"token property-access","key":193},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":194},"type":"__VNODE_TYPE"},{"tag":"span","children":["Properties"],"properties":{"class":"token class-name","key":195},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":196},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":197},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":198},"type":"__VNODE_TYPE"},{"tag":"span","children":["();\n\nexport const PhoneValidator = factory(function PhoneValidator({\n  children,\n  middleware: { phoneNumberMiddleware }\n}) "],"properties":{"class":"token plain-text","key":199},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":200},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":201},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":202},"type":"__VNODE_TYPE"}," valid",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":203},"type":"__VNODE_TYPE"}," value ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":204},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":205},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["phoneNumberMiddleware"],"properties":{"class":"token function","key":206},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":207},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":208},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":209},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["let"],"properties":{"class":"token keyword","key":210},"type":"__VNODE_TYPE"}," validCss ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":211},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"\""],"properties":{"class":"token string","key":212},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":213},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["if"],"properties":{"class":"token keyword","key":214},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":215},"type":"__VNODE_TYPE"},"value",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":216},"type":"__VNODE_TYPE"},{"tag":"span","children":["length"],"properties":{"class":"token property-access","key":217},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":218},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":219},"type":"__VNODE_TYPE"},"\n    validCss ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":220},"type":"__VNODE_TYPE"}," valid ",{"tag":"span","children":["?"],"properties":{"class":"token operator","key":221},"type":"__VNODE_TYPE"}," css",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":222},"type":"__VNODE_TYPE"},{"tag":"span","children":["valid"],"properties":{"class":"token property-access","key":223},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":224},"type":"__VNODE_TYPE"}," css",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":225},"type":"__VNODE_TYPE"},{"tag":"span","children":["invalid"],"properties":{"class":"token property-access","key":226},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":227},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":228},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":229},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":230},"type":"__VNODE_TYPE"},"div"],"properties":{"class":"token tag","key":231},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["classes"],"properties":{"class":"token attr-name","key":232},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":233},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":234},"type":"__VNODE_TYPE"},{"tag":"span","children":["["],"properties":{"class":"token punctuation","key":235},"type":"__VNODE_TYPE"},"css",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":236},"type":"__VNODE_TYPE"},{"tag":"span","children":["root"],"properties":{"class":"token property-access","key":237},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":238},"type":"__VNODE_TYPE"}," validCss",{"tag":"span","children":["]"],"properties":{"class":"token punctuation","key":239},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":240},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":241},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":242},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":243},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":244},"type":"__VNODE_TYPE"},{"tag":"span","children":["children"],"properties":{"class":"token function","key":245},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":246},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":247},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":248},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":249},"type":"__VNODE_TYPE"},"div"],"properties":{"class":"token tag","key":250},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":251},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":252},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":253},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":254},"type":"__VNODE_TYPE"},{"tag":"span","children":[");\n\nexport default PhoneValidator;\n"],"properties":{"class":"token plain-text","key":255},"type":"__VNODE_TYPE"}],"properties":{"class":"language-tsx","key":256},"type":"__VNODE_TYPE"}],"properties":{"class":"language-tsx","key":257},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["The ",{"tag":"code","children":["PhoneValidator"],"properties":{"key":258},"type":"__VNODE_TYPE"}," uses some middleware that returns the a ",{"tag":"code","children":["valid"],"properties":{"key":259},"type":"__VNODE_TYPE"}," property that is either ",{"tag":"code","children":["true"],"properties":{"key":260},"type":"__VNODE_TYPE"}," or ",{"tag":"code","children":["false"],"properties":{"key":261},"type":"__VNODE_TYPE"},". It will also return the ",{"tag":"code","children":["value"],"properties":{"key":262},"type":"__VNODE_TYPE"}," of the phone number that was tested. Based on whether the phone number is valid or not, it will use some CSS for a red or green border."],"properties":{"key":263},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["Notice that I never pass the ",{"tag":"code","children":["phone"],"properties":{"key":264},"type":"__VNODE_TYPE"}," property to the middleware. By provide the ",{"tag":"code","children":["phoneNumberMiddleware"],"properties":{"key":265},"type":"__VNODE_TYPE"}," as a middleware to the ",{"tag":"code","children":["PhoneValidator"],"properties":{"key":266},"type":"__VNODE_TYPE"}," widget, the middleware will have access to the properties of the widget. Let's see what that looks like."],"properties":{"key":267},"type":"__VNODE_TYPE"},"\n",{"tag":"pre","children":[{"tag":"code","children":[{"tag":"span","children":["// src/middleware/phoneNumberMiddleware.tsx"],"properties":{"class":"token comment","key":268},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":269},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":270},"type":"__VNODE_TYPE"}," create ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":271},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":272},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/core/vdom\""],"properties":{"class":"token string","key":273},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":274},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":275},"type":"__VNODE_TYPE"}," factory ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":276},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["create"],"properties":{"class":"token function","key":277},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":278},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":279},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":280},"type":"__VNODE_TYPE"},{"tag":"span","children":["properties"],"properties":{"class":"token property-access","key":281},"type":"__VNODE_TYPE"},{"tag":"span","children":["<"],"properties":{"class":"token operator","key":282},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":283},"type":"__VNODE_TYPE"}," phone",{"tag":"span","children":["?"],"properties":{"class":"token operator","key":284},"type":"__VNODE_TYPE"},{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":285},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["string"],"properties":{"class":"token builtin","key":286},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":287},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token operator","key":288},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":289},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":290},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":291},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["export"],"properties":{"class":"token keyword","key":292},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":293},"type":"__VNODE_TYPE"}," phoneNumberMiddleware ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":294},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["factory"],"properties":{"class":"token function","key":295},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":296},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":297},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":298},"type":"__VNODE_TYPE"}," properties ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":299},"type":"__VNODE_TYPE"}],"properties":{"class":"token parameter","key":300},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":301},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["=>"],"properties":{"class":"token arrow operator","key":302},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":303},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":304},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":305},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":306},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["=>"],"properties":{"class":"token arrow operator","key":307},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":308},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// extract the `phone` value from the properties of"],"properties":{"class":"token comment","key":309},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// the parent widget"],"properties":{"class":"token comment","key":310},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":311},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":312},"type":"__VNODE_TYPE"}," phone ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":313},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":314},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["properties"],"properties":{"class":"token function","key":315},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":316},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":317},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":318},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// test the phone number"],"properties":{"class":"token comment","key":319},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":320},"type":"__VNODE_TYPE"}," valid ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":321},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":[{"tag":"span","children":["/"],"properties":{"class":"token regex-delimiter","key":322},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["^"],"properties":{"class":"token anchor","key":323},"type":"__VNODE_TYPE"},{"tag":"span","children":["\\("],"properties":{"class":"token special-escape escape","key":324},"type":"__VNODE_TYPE"},{"tag":"span","children":["?"],"properties":{"class":"token quantifier","key":325},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token group","key":326},"type":"__VNODE_TYPE"},{"tag":"span","children":["\\d"],"properties":{"class":"token charclass","key":327},"type":"__VNODE_TYPE"},{"tag":"span","children":["{3}"],"properties":{"class":"token quantifier","key":328},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token group","key":329},"type":"__VNODE_TYPE"},{"tag":"span","children":["\\)"],"properties":{"class":"token special-escape escape","key":330},"type":"__VNODE_TYPE"},{"tag":"span","children":["?"],"properties":{"class":"token quantifier","key":331},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["["],"properties":{"class":"token charset-punctuation","key":332},"type":"__VNODE_TYPE"},"- ",{"tag":"span","children":["]"],"properties":{"class":"token charset-punctuation","key":333},"type":"__VNODE_TYPE"}],"properties":{"class":"token charset","key":334},"type":"__VNODE_TYPE"},{"tag":"span","children":["?"],"properties":{"class":"token quantifier","key":335},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token group","key":336},"type":"__VNODE_TYPE"},{"tag":"span","children":["\\d"],"properties":{"class":"token charclass","key":337},"type":"__VNODE_TYPE"},{"tag":"span","children":["{3}"],"properties":{"class":"token quantifier","key":338},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token group","key":339},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["["],"properties":{"class":"token charset-punctuation","key":340},"type":"__VNODE_TYPE"},"- ",{"tag":"span","children":["]"],"properties":{"class":"token charset-punctuation","key":341},"type":"__VNODE_TYPE"}],"properties":{"class":"token charset","key":342},"type":"__VNODE_TYPE"},{"tag":"span","children":["?"],"properties":{"class":"token quantifier","key":343},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token group","key":344},"type":"__VNODE_TYPE"},{"tag":"span","children":["\\d"],"properties":{"class":"token charclass","key":345},"type":"__VNODE_TYPE"},{"tag":"span","children":["{4}"],"properties":{"class":"token quantifier","key":346},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token group","key":347},"type":"__VNODE_TYPE"},{"tag":"span","children":["$"],"properties":{"class":"token anchor","key":348},"type":"__VNODE_TYPE"}],"properties":{"class":"token language-regex","key":349},"type":"__VNODE_TYPE"},{"tag":"span","children":["/"],"properties":{"class":"token regex-delimiter","key":350},"type":"__VNODE_TYPE"}],"properties":{"class":"token regex","key":351},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":352},"type":"__VNODE_TYPE"},{"tag":"span","children":["test"],"properties":{"class":"token method function property-access","key":353},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":354},"type":"__VNODE_TYPE"},"phone ",{"tag":"span","children":["||"],"properties":{"class":"token operator","key":355},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"\""],"properties":{"class":"token string","key":356},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":357},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":358},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":359},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":360},"type":"__VNODE_TYPE"},"\n      valid",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":361},"type":"__VNODE_TYPE"},"\n      value",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":362},"type":"__VNODE_TYPE"}," phone\n    ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":363},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":364},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":365},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":366},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":367},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":368},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":369},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["export"],"properties":{"class":"token keyword","key":370},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["default"],"properties":{"class":"token keyword","key":371},"type":"__VNODE_TYPE"}," phoneNumberMiddleware",{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":372},"type":"__VNODE_TYPE"},"\n"],"properties":{"class":"language-tsx","key":373},"type":"__VNODE_TYPE"}],"properties":{"class":"language-tsx","key":374},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["The middleware returns a function that will test the phone number and return whether it is valid or not."],"properties":{"key":375},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["Here is what this looks like in a sample application."],"properties":{"key":376},"type":"__VNODE_TYPE"},"\n",{"tag":"iframe","properties":{"src":"https://codesandbox.io/embed/dojo-custom-middleware-w1f7m?fontsize=14&module=%2Fsrc%2Fmiddleware%2FphoneNumberMiddleware.ts","width":"100%","height":500,"allowfullscreen":true,"frameborder":"0","key":377},"type":"__VNODE_TYPE"},"\n",{"tag":"h2","children":["Geolocation Middleware"],"properties":{"id":"geolocation-middleware","key":378},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["You could also do some fun middleware that interacts with the DOM of you widgets. For example, there is the ",{"tag":"a","children":[{"tag":"code","children":["intersection"],"properties":{"key":379},"type":"__VNODE_TYPE"}],"properties":{"href":"https://dojo.io/learn/middleware/available-middleware#intersection","target":"_blank","rel":"nofollow","key":380},"type":"__VNODE_TYPE"}," and ",{"tag":"a","children":[{"tag":"code","children":["resize"],"properties":{"key":381},"type":"__VNODE_TYPE"}],"properties":{"href":"https://dojo.io/learn/middleware/available-middleware#resize","target":"_blank","rel":"nofollow","key":382},"type":"__VNODE_TYPE"}," middleware."],"properties":{"key":383},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["You could use a similar pattern to grab the browsers geolocation."],"properties":{"key":384},"type":"__VNODE_TYPE"},"\n",{"tag":"pre","children":[{"tag":"code","children":[{"tag":"span","children":["// src/middleware/geolocation.ts"],"properties":{"class":"token comment","key":385},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":386},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":387},"type":"__VNODE_TYPE"}," create ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":388},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":389},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/core/vdom\""],"properties":{"class":"token string","key":390},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":391},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":392},"type":"__VNODE_TYPE"}," icache ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":393},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/core/middleware/icache\""],"properties":{"class":"token string","key":394},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":395},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":396},"type":"__VNODE_TYPE"}," factory ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":397},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["create"],"properties":{"class":"token function","key":398},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":399},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":400},"type":"__VNODE_TYPE"}," icache ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":401},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":402},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":403},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["type"],"properties":{"class":"token keyword","key":404},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["Coords"],"properties":{"class":"token maybe-class-name","key":405},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":406},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["Pick"],"properties":{"class":"token maybe-class-name","key":407},"type":"__VNODE_TYPE"},{"tag":"span","children":["<"],"properties":{"class":"token operator","key":408},"type":"__VNODE_TYPE"},{"tag":"span","children":["Coordinates"],"properties":{"class":"token maybe-class-name","key":409},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":410},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"latitude\""],"properties":{"class":"token string","key":411},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["|"],"properties":{"class":"token operator","key":412},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"longitude\""],"properties":{"class":"token string","key":413},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token operator","key":414},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":415},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["// utility to get current geolocation"],"properties":{"class":"token comment","key":416},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":417},"type":"__VNODE_TYPE"}," getGeolocation ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":418},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["async"],"properties":{"class":"token keyword","key":419},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":420},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":421},"type":"__VNODE_TYPE"},{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":422},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["Promise"],"properties":{"class":"token known-class-name class-name","key":423},"type":"__VNODE_TYPE"},{"tag":"span","children":["<"],"properties":{"class":"token operator","key":424},"type":"__VNODE_TYPE"},{"tag":"span","children":["Coords"],"properties":{"class":"token maybe-class-name","key":425},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token operator","key":426},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["=>"],"properties":{"class":"token arrow operator","key":427},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":428},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":429},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["new"],"properties":{"class":"token keyword","key":430},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["Promise"],"properties":{"class":"token class-name","key":431},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":432},"type":"__VNODE_TYPE"},{"tag":"span","children":["resolve"],"properties":{"class":"token parameter","key":433},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["=>"],"properties":{"class":"token arrow operator","key":434},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":435},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["if"],"properties":{"class":"token keyword","key":436},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":437},"type":"__VNODE_TYPE"},{"tag":"span","children":["!"],"properties":{"class":"token operator","key":438},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":439},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"geolocation\""],"properties":{"class":"token string","key":440},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["in"],"properties":{"class":"token keyword","key":441},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["navigator"],"properties":{"class":"token dom variable","key":442},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":443},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":444},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":445},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["resolve"],"properties":{"class":"token function","key":446},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":447},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":448},"type":"__VNODE_TYPE"}," latitude",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":449},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["0"],"properties":{"class":"token number","key":450},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":451},"type":"__VNODE_TYPE"}," longitude",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":452},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["0"],"properties":{"class":"token number","key":453},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":454},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":455},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":456},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":457},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["else"],"properties":{"class":"token keyword","key":458},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":459},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["navigator"],"properties":{"class":"token dom variable","key":460},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":461},"type":"__VNODE_TYPE"},{"tag":"span","children":["geolocation"],"properties":{"class":"token property-access","key":462},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":463},"type":"__VNODE_TYPE"},{"tag":"span","children":["getCurrentPosition"],"properties":{"class":"token method function property-access","key":464},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":465},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":466},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":467},"type":"__VNODE_TYPE"}," coords ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":468},"type":"__VNODE_TYPE"}],"properties":{"class":"token parameter","key":469},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":470},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["=>"],"properties":{"class":"token arrow operator","key":471},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":472},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":473},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":474},"type":"__VNODE_TYPE"}," latitude",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":475},"type":"__VNODE_TYPE"}," longitude ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":476},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":477},"type":"__VNODE_TYPE"}," coords",{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":478},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["resolve"],"properties":{"class":"token function","key":479},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":480},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":481},"type":"__VNODE_TYPE"}," latitude",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":482},"type":"__VNODE_TYPE"}," longitude ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":483},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":484},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":485},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":486},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":487},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":488},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":489},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":490},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":491},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":492},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":493},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":494},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["// default coordinates"],"properties":{"class":"token comment","key":495},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":496},"type":"__VNODE_TYPE"}," defaultCoordinates ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":497},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":498},"type":"__VNODE_TYPE"}," latitude",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":499},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["0"],"properties":{"class":"token number","key":500},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":501},"type":"__VNODE_TYPE"}," longitude",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":502},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["0"],"properties":{"class":"token number","key":503},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":504},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":505},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["export"],"properties":{"class":"token keyword","key":506},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":507},"type":"__VNODE_TYPE"}," geolocation ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":508},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["factory"],"properties":{"class":"token function","key":509},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":510},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":511},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":512},"type":"__VNODE_TYPE"}," middleware",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":513},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":514},"type":"__VNODE_TYPE"}," icache ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":515},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":516},"type":"__VNODE_TYPE"}],"properties":{"class":"token parameter","key":517},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":518},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["=>"],"properties":{"class":"token arrow operator","key":519},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":520},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":521},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":522},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":523},"type":"__VNODE_TYPE"},{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":524},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":[{"tag":"span","children":["Coords"],"properties":{"class":"token maybe-class-name","key":525},"type":"__VNODE_TYPE"}],"properties":{"class":"token parameter","key":526},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["=>"],"properties":{"class":"token arrow operator","key":527},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":528},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// get current value or default"],"properties":{"class":"token comment","key":529},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":530},"type":"__VNODE_TYPE"}," coords ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":531},"type":"__VNODE_TYPE"}," icache",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":532},"type":"__VNODE_TYPE"},{"tag":"span","children":["getOrSet"],"properties":{"class":"token method function property-access","key":533},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":534},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"coords\""],"properties":{"class":"token string","key":535},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":536},"type":"__VNODE_TYPE"}," defaultCoordinates",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":537},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":538},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["if"],"properties":{"class":"token keyword","key":539},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":540},"type":"__VNODE_TYPE"},"coords",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":541},"type":"__VNODE_TYPE"},{"tag":"span","children":["latitude"],"properties":{"class":"token property-access","key":542},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["==="],"properties":{"class":"token operator","key":543},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["0"],"properties":{"class":"token number","key":544},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["&&"],"properties":{"class":"token operator","key":545},"type":"__VNODE_TYPE"}," coords",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":546},"type":"__VNODE_TYPE"},{"tag":"span","children":["longitude"],"properties":{"class":"token property-access","key":547},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["==="],"properties":{"class":"token operator","key":548},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["0"],"properties":{"class":"token number","key":549},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":550},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":551},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["// only get location if it is not the default"],"properties":{"class":"token comment","key":552},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["getGeolocation"],"properties":{"class":"token function","key":553},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":554},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":555},"type":"__VNODE_TYPE"},{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":556},"type":"__VNODE_TYPE"},{"tag":"span","children":["then"],"properties":{"class":"token method function property-access","key":557},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":558},"type":"__VNODE_TYPE"},{"tag":"span","children":["results"],"properties":{"class":"token parameter","key":559},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["=>"],"properties":{"class":"token arrow operator","key":560},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":561},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["if"],"properties":{"class":"token keyword","key":562},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":563},"type":"__VNODE_TYPE"},"\n          coords",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":564},"type":"__VNODE_TYPE"},{"tag":"span","children":["latitude"],"properties":{"class":"token property-access","key":565},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["!=="],"properties":{"class":"token operator","key":566},"type":"__VNODE_TYPE"}," results",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":567},"type":"__VNODE_TYPE"},{"tag":"span","children":["latitude"],"properties":{"class":"token property-access","key":568},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["&&"],"properties":{"class":"token operator","key":569},"type":"__VNODE_TYPE"},"\n          coords",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":570},"type":"__VNODE_TYPE"},{"tag":"span","children":["longitude"],"properties":{"class":"token property-access","key":571},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["!=="],"properties":{"class":"token operator","key":572},"type":"__VNODE_TYPE"}," results",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":573},"type":"__VNODE_TYPE"},{"tag":"span","children":["longitude"],"properties":{"class":"token property-access","key":574},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":575},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":576},"type":"__VNODE_TYPE"},"\n          ",{"tag":"span","children":["// only update cache if different from current value"],"properties":{"class":"token comment","key":577},"type":"__VNODE_TYPE"},"\n          ",{"tag":"span","children":["// this will invalidate the widget"],"properties":{"class":"token comment","key":578},"type":"__VNODE_TYPE"},"\n          icache",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":579},"type":"__VNODE_TYPE"},{"tag":"span","children":["set"],"properties":{"class":"token keyword","key":580},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":581},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"coords\""],"properties":{"class":"token string","key":582},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":583},"type":"__VNODE_TYPE"}," results",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":584},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":585},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":586},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":587},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":588},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":589},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":590},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":591},"type":"__VNODE_TYPE"}," coords",{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":592},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":593},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":594},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":595},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":596},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":597},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["export"],"properties":{"class":"token keyword","key":598},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["default"],"properties":{"class":"token keyword","key":599},"type":"__VNODE_TYPE"}," geolocation",{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":600},"type":"__VNODE_TYPE"},"\n"],"properties":{"class":"language-ts","key":601},"type":"__VNODE_TYPE"}],"properties":{"class":"language-ts","key":602},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["This middleware uses the ",{"tag":"a","children":[{"tag":"code","children":["icache"],"properties":{"key":603},"type":"__VNODE_TYPE"}],"properties":{"href":"https://dojo.io/learn/middleware/available-middleware#icache","target":"_blank","rel":"nofollow","key":604},"type":"__VNODE_TYPE"}," middleware so that when the geolocation properties are updated, it will invalidate the middleware and this will in turn invalidate the widget so it can rerender with new data."],"properties":{"key":605},"type":"__VNODE_TYPE"},"\n",{"tag":"pre","children":[{"tag":"code","children":[{"tag":"span","children":["// src/main.tsx"],"properties":{"class":"token comment","key":606},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":607},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":608},"type":"__VNODE_TYPE"}," renderer",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":609},"type":"__VNODE_TYPE"}," create",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":610},"type":"__VNODE_TYPE"}," tsx ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":611},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":612},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/framework/core/vdom\""],"properties":{"class":"token string","key":613},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":614},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":615},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"@dojo/themes/dojo/index.css\""],"properties":{"class":"token string","key":616},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":617},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":618},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["Hello"],"properties":{"class":"token maybe-class-name","key":619},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":620},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"./widgets/Hello\""],"properties":{"class":"token string","key":621},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":622},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["import"],"properties":{"class":"token keyword","key":623},"type":"__VNODE_TYPE"}," geolocation ",{"tag":"span","children":["from"],"properties":{"class":"token keyword","key":624},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"./middleware/geolocation\""],"properties":{"class":"token string","key":625},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":626},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":627},"type":"__VNODE_TYPE"}," factory ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":628},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["create"],"properties":{"class":"token function","key":629},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":630},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":631},"type":"__VNODE_TYPE"}," geolocation ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":632},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":633},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":634},"type":"__VNODE_TYPE"},"\n\n",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":635},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["App"],"properties":{"class":"token maybe-class-name","key":636},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":637},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["factory"],"properties":{"class":"token function","key":638},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":639},"type":"__VNODE_TYPE"},{"tag":"span","children":["function"],"properties":{"class":"token keyword","key":640},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":[{"tag":"span","children":["App"],"properties":{"class":"token maybe-class-name","key":641},"type":"__VNODE_TYPE"}],"properties":{"class":"token function","key":642},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":643},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":644},"type":"__VNODE_TYPE"}," middleware",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":645},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":646},"type":"__VNODE_TYPE"}," geolocation ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":647},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":648},"type":"__VNODE_TYPE"}],"properties":{"class":"token parameter","key":649},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":650},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":651},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["// get my geolocation middleware values"],"properties":{"class":"token comment","key":652},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":653},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":654},"type":"__VNODE_TYPE"}," latitude",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":655},"type":"__VNODE_TYPE"}," longitude ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":656},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":657},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["geolocation"],"properties":{"class":"token function","key":658},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":659},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":660},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":661},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":662},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":663},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":664},"type":"__VNODE_TYPE"},"div"],"properties":{"class":"token tag","key":665},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["key"],"properties":{"class":"token attr-name","key":666},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token punctuation","key":667},"type":"__VNODE_TYPE"},{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":668},"type":"__VNODE_TYPE"},"container",{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":669},"type":"__VNODE_TYPE"}],"properties":{"class":"token attr-value","key":670},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":671},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":672},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n      "],"properties":{"class":"token plain-text","key":673},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":674},"type":"__VNODE_TYPE"},{"tag":"span","children":["Hello"],"properties":{"class":"token class-name","key":675},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":676},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["name"],"properties":{"class":"token attr-name","key":677},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token punctuation","key":678},"type":"__VNODE_TYPE"},{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":679},"type":"__VNODE_TYPE"},"Dojo CodeSandbox",{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":680},"type":"__VNODE_TYPE"}],"properties":{"class":"token attr-value","key":681},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["/>"],"properties":{"class":"token punctuation","key":682},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":683},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n      "],"properties":{"class":"token plain-text","key":684},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":685},"type":"__VNODE_TYPE"},"h2"],"properties":{"class":"token tag","key":686},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":687},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":688},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":689},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"Start editing to see some magic happen \\u2728\""],"properties":{"class":"token string","key":690},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":691},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":692},"type":"__VNODE_TYPE"},"h2"],"properties":{"class":"token tag","key":693},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":694},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":695},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n      "],"properties":{"class":"token plain-text","key":696},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":697},"type":"__VNODE_TYPE"},"section"],"properties":{"class":"token tag","key":698},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":699},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":700},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n        "],"properties":{"class":"token plain-text","key":701},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":702},"type":"__VNODE_TYPE"},"ul"],"properties":{"class":"token tag","key":703},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":704},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":705},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n          "],"properties":{"class":"token plain-text","key":706},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":707},"type":"__VNODE_TYPE"},"li"],"properties":{"class":"token tag","key":708},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":709},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":710},"type":"__VNODE_TYPE"},{"tag":"span","children":["Latitude: "],"properties":{"class":"token plain-text","key":711},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":712},"type":"__VNODE_TYPE"},"latitude",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":713},"type":"__VNODE_TYPE"},{"tag":"span","children":["toFixed"],"properties":{"class":"token method function property-access","key":714},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":715},"type":"__VNODE_TYPE"},{"tag":"span","children":["3"],"properties":{"class":"token number","key":716},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":717},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":718},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":719},"type":"__VNODE_TYPE"},"li"],"properties":{"class":"token tag","key":720},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":721},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":722},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n          "],"properties":{"class":"token plain-text","key":723},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":724},"type":"__VNODE_TYPE"},"li"],"properties":{"class":"token tag","key":725},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":726},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":727},"type":"__VNODE_TYPE"},{"tag":"span","children":["Longitude: "],"properties":{"class":"token plain-text","key":728},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":729},"type":"__VNODE_TYPE"},"longitude",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":730},"type":"__VNODE_TYPE"},{"tag":"span","children":["toFixed"],"properties":{"class":"token method function property-access","key":731},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":732},"type":"__VNODE_TYPE"},{"tag":"span","children":["3"],"properties":{"class":"token number","key":733},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":734},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":735},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":736},"type":"__VNODE_TYPE"},"li"],"properties":{"class":"token tag","key":737},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":738},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":739},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n        "],"properties":{"class":"token plain-text","key":740},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":741},"type":"__VNODE_TYPE"},"ul"],"properties":{"class":"token tag","key":742},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":743},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":744},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n      "],"properties":{"class":"token plain-text","key":745},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":746},"type":"__VNODE_TYPE"},"section"],"properties":{"class":"token tag","key":747},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":748},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":749},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n    "],"properties":{"class":"token plain-text","key":750},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":751},"type":"__VNODE_TYPE"},"div"],"properties":{"class":"token tag","key":752},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":753},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":754},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":755},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":756},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":757},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":758},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":759},"type":"__VNODE_TYPE"},"\n"],"properties":{"class":"language-tsx","key":760},"type":"__VNODE_TYPE"}],"properties":{"class":"language-tsx","key":761},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["Here is a demo of what this looks like. You may need to open it in a new window to get your location."],"properties":{"key":762},"type":"__VNODE_TYPE"},"\n",{"tag":"iframe","properties":{"src":"https://codesandbox.io/embed/dojo-geolocation-middleware-msmvc?fontsize=14&module=%2Fsrc%2Fmiddleware%2Fgeolocation.ts","width":"100%","height":500,"allowfullscreen":true,"frameborder":"0","key":763},"type":"__VNODE_TYPE"},"\n",{"tag":"h2","children":["Summary"],"properties":{"id":"summary","key":764},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["There are numerous ways you could build middleware for your applications. Device orientation, mouse interactivity, media queries, hardware devices, drag and drop, full screen, authentication, and so much more. I'm looking forward to all the different ways middleware can be implemented into Dojo widgets!"],"properties":{"key":765},"type":"__VNODE_TYPE"}],"properties":{"key":766},"type":"__VNODE_TYPE"},"meta":{"title":"Custom Dojo Middleware","date":"2019-10-01T00:00:00.000Z","author":"Rene Rubalcava","description":"How you can write your own custom middleware to use in your Dojo widgets","tags":"javascript, typescript, dojo, webdev, dojo6","cover_image":"/assets/blog/dojo-custom-middleware.jpg","published":true}});
/***/ })
}]);
