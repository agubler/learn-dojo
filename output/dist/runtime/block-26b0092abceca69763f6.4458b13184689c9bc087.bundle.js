
(window['dojoWebpackJsonplearn_dojo'] = window['dojoWebpackJsonplearn_dojo'] || []).push([['runtime/block-26b0092abceca69763f6'],{
/***/ 'runtime/block-26b0092abceca69763f6.js':
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {
"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({"content":{"tag":"div","children":[{"tag":"p","children":["The ",{"tag":"a","children":["Intersection Observer API"],"properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API","target":"_blank","rel":"nofollow","key":3},"type":"__VNODE_TYPE"}," is a web API that provides information about elements position in a viewport of your page. You can check if an element is currently intersecting with the viewport, meaning it's visible in the browser and even how much of the element is visible. This gives you the tools to do things like lazy-load images on the page, determine if you want to show other parts of the page as users reach the end or load more content as a user scrolls the page."],"properties":{"key":4},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["The loading of more content as a user scrolls the page is interesting. You might need to display a very large dataset to your users, but there is no point in fetching and displaying the entire dataset if the user may not access it all."],"properties":{"key":5},"type":"__VNODE_TYPE"},"\n",{"tag":"h2","children":["Intersection Middleware"],"properties":{"id":"intersection-middleware","key":6},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["Dojo provides an ",{"tag":"a","children":["intersection middleware"],"properties":{"href":"https://dojo.io/learn/middleware/available-middleware#intersection","target":"_blank","rel":"nofollow","key":7},"type":"__VNODE_TYPE"}," you can use in building widgets for your application. You can use this middleware to lazy-load images or even integrate paging into your application!"],"properties":{"key":8},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["In a previous post, we built a ",{"tag":"a","children":["movie application"],"properties":{"href":"https://learn-dojo.com/build-movie-app-with-dojo/","target":"_blank","rel":"nofollow","key":9},"type":"__VNODE_TYPE"}," with Dojo. For this application we use the ",{"tag":"a","children":["OMDb API"],"properties":{"href":"https://www.omdbapi.com/","target":"_blank","rel":"nofollow","key":10},"type":"__VNODE_TYPE"}," which also includes the ability to page through results. So we can go ahead and add paging to this application using the Intersection Observer middleware."],"properties":{"key":11},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["Since we're going to introduce paging into our application, we're going to modify our State interface to handle it."],"properties":{"key":12},"type":"__VNODE_TYPE"},"\n",{"tag":"pre","children":[{"tag":"code","children":[{"tag":"span","children":["// src/Data.ts"],"properties":{"class":"token comment","key":13},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["export"],"properties":{"class":"token keyword","key":14},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["interface"],"properties":{"class":"token keyword","key":15},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["State"],"properties":{"class":"token class-name","key":16},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":17},"type":"__VNODE_TYPE"},"\n  value",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":18},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["string"],"properties":{"class":"token builtin","key":19},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":20},"type":"__VNODE_TYPE"},"\n  page",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":21},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["number"],"properties":{"class":"token builtin","key":22},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":23},"type":"__VNODE_TYPE"},"\n  pagingEnabled",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":24},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["boolean"],"properties":{"class":"token builtin","key":25},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":26},"type":"__VNODE_TYPE"},"\n  movies",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":27},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["Record"],"properties":{"class":"token maybe-class-name","key":28},"type":"__VNODE_TYPE"},{"tag":"span","children":["["],"properties":{"class":"token punctuation","key":29},"type":"__VNODE_TYPE"},{"tag":"span","children":["]"],"properties":{"class":"token punctuation","key":30},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":31},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":32},"type":"__VNODE_TYPE"},"\n"],"properties":{"class":"language-ts","key":33},"type":"__VNODE_TYPE"}],"properties":{"class":"language-ts","key":34},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["We need the current ",{"tag":"code","children":["search"],"properties":{"key":35},"type":"__VNODE_TYPE"}," value to be available to other parts of our application and not just the Search widget. We'll also want to keep track of the current ",{"tag":"code","children":["page"],"properties":{"key":36},"type":"__VNODE_TYPE"}," we are on. We also want to keep track of whether or not paging is enabled, because once we reach the end of results, we don't want to keep trying to fetch data when there are no more results."],"properties":{"key":37},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["The work of fetching the results is done in our ",{"tag":"code","children":["search"],"properties":{"key":38},"type":"__VNODE_TYPE"}," process. The process has a few responsibilities."],"properties":{"key":39},"type":"__VNODE_TYPE"},"\n",{"tag":"ul","children":["\n",{"tag":"li","children":["Keep track of current page of results"],"properties":{"key":40},"type":"__VNODE_TYPE"},"\n",{"tag":"li","children":["Add results or replace results based on current and previous search term"],"properties":{"key":41},"type":"__VNODE_TYPE"},"\n",{"tag":"li","children":["Disable paging if no more results available"],"properties":{"key":42},"type":"__VNODE_TYPE"},"\n"],"properties":{"key":43},"type":"__VNODE_TYPE"},"\n",{"tag":"pre","children":[{"tag":"code","children":[{"tag":"span","children":["// src/processes/search.ts"],"properties":{"class":"token comment","key":44},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":45},"type":"__VNODE_TYPE"}," fetchMoviesCommand ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":46},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["commandFactory"],"properties":{"class":"token function","key":47},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":48},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["async"],"properties":{"class":"token keyword","key":49},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":50},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":51},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["get"],"properties":{"class":"token keyword","key":52},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":53},"type":"__VNODE_TYPE"}," path",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":54},"type":"__VNODE_TYPE"}," payload",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":55},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":56},"type":"__VNODE_TYPE"}," value ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":57},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":58},"type":"__VNODE_TYPE"}],"properties":{"class":"token parameter","key":59},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":60},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["=>"],"properties":{"class":"token arrow operator","key":61},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":62},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":63},"type":"__VNODE_TYPE"}," previousValue ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":64},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["get"],"properties":{"class":"token keyword","key":65},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":66},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":67},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":68},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"value\""],"properties":{"class":"token string","key":69},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":70},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":71},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":72},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":73},"type":"__VNODE_TYPE"}," previousMovies ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":74},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["get"],"properties":{"class":"token keyword","key":75},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":76},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":77},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":78},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"movies\""],"properties":{"class":"token string","key":79},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":80},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":81},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":82},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":83},"type":"__VNODE_TYPE"}," page ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":84},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["get"],"properties":{"class":"token keyword","key":85},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":86},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":87},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":88},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"page\""],"properties":{"class":"token string","key":89},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":90},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":91},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":92},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// determine if we need to ask for"],"properties":{"class":"token comment","key":93},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// the next page of results"],"properties":{"class":"token comment","key":94},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["let"],"properties":{"class":"token keyword","key":95},"type":"__VNODE_TYPE"}," currentPage ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":96},"type":"__VNODE_TYPE"}," previousValue ",{"tag":"span","children":["==="],"properties":{"class":"token operator","key":97},"type":"__VNODE_TYPE"}," value ",{"tag":"span","children":["?"],"properties":{"class":"token operator","key":98},"type":"__VNODE_TYPE"}," page ",{"tag":"span","children":["+"],"properties":{"class":"token operator","key":99},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["1"],"properties":{"class":"token number","key":100},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":101},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["1"],"properties":{"class":"token number","key":102},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":103},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":104},"type":"__VNODE_TYPE"}," response ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":105},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["await"],"properties":{"class":"token keyword","key":106},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["fetch"],"properties":{"class":"token function","key":107},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":108},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":[{"tag":"span","children":["`"],"properties":{"class":"token template-punctuation string","key":109},"type":"__VNODE_TYPE"},{"tag":"span","children":["https://www.omdbapi.com/?s="],"properties":{"class":"token string","key":110},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["${"],"properties":{"class":"token interpolation-punctuation punctuation","key":111},"type":"__VNODE_TYPE"},"value",{"tag":"span","children":["}"],"properties":{"class":"token interpolation-punctuation punctuation","key":112},"type":"__VNODE_TYPE"}],"properties":{"class":"token interpolation","key":113},"type":"__VNODE_TYPE"},{"tag":"span","children":["&page="],"properties":{"class":"token string","key":114},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["${"],"properties":{"class":"token interpolation-punctuation punctuation","key":115},"type":"__VNODE_TYPE"},"currentPage",{"tag":"span","children":["}"],"properties":{"class":"token interpolation-punctuation punctuation","key":116},"type":"__VNODE_TYPE"}],"properties":{"class":"token interpolation","key":117},"type":"__VNODE_TYPE"},{"tag":"span","children":["&apikey="],"properties":{"class":"token string","key":118},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["${"],"properties":{"class":"token interpolation-punctuation punctuation","key":119},"type":"__VNODE_TYPE"},{"tag":"span","children":["API_KEY"],"properties":{"class":"token constant","key":120},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token interpolation-punctuation punctuation","key":121},"type":"__VNODE_TYPE"}],"properties":{"class":"token interpolation","key":122},"type":"__VNODE_TYPE"},{"tag":"span","children":["`"],"properties":{"class":"token template-punctuation string","key":123},"type":"__VNODE_TYPE"}],"properties":{"class":"token template-string","key":124},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":125},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":126},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":127},"type":"__VNODE_TYPE"}," json ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":128},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["await"],"properties":{"class":"token keyword","key":129},"type":"__VNODE_TYPE"}," response",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":130},"type":"__VNODE_TYPE"},{"tag":"span","children":["json"],"properties":{"class":"token method function property-access","key":131},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":132},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":133},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":134},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// if the `Response` is `False`"],"properties":{"class":"token comment","key":135},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// no more movies are available"],"properties":{"class":"token comment","key":136},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// for search term."],"properties":{"class":"token comment","key":137},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// we can disable paging now"],"properties":{"class":"token comment","key":138},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["if"],"properties":{"class":"token keyword","key":139},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":140},"type":"__VNODE_TYPE"},"json",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":141},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["Response"],"properties":{"class":"token maybe-class-name","key":142},"type":"__VNODE_TYPE"}],"properties":{"class":"token property-access","key":143},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["==="],"properties":{"class":"token operator","key":144},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["\"False\""],"properties":{"class":"token string","key":145},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":146},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":147},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":148},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["["],"properties":{"class":"token punctuation","key":149},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["replace"],"properties":{"class":"token function","key":150},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":151},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":152},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":153},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"value\""],"properties":{"class":"token string","key":154},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":155},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":156},"type":"__VNODE_TYPE"}," value",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":157},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":158},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["replace"],"properties":{"class":"token function","key":159},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":160},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":161},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":162},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"page\""],"properties":{"class":"token string","key":163},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":164},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":165},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["1"],"properties":{"class":"token number","key":166},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":167},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":168},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":["replace"],"properties":{"class":"token function","key":169},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":170},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":171},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":172},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"pagingEnabled\""],"properties":{"class":"token string","key":173},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":174},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":175},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["false"],"properties":{"class":"token boolean","key":176},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":177},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["]"],"properties":{"class":"token punctuation","key":178},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":179},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":180},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// if still searching for same"],"properties":{"class":"token comment","key":181},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// term, combine results"],"properties":{"class":"token comment","key":182},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// or else replace them completely"],"properties":{"class":"token comment","key":183},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["let"],"properties":{"class":"token keyword","key":184},"type":"__VNODE_TYPE"}," updater ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":185},"type":"__VNODE_TYPE"},"\n      previousValue ",{"tag":"span","children":["==="],"properties":{"class":"token operator","key":186},"type":"__VNODE_TYPE"}," value\n        ",{"tag":"span","children":["?"],"properties":{"class":"token operator","key":187},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["replace"],"properties":{"class":"token function","key":188},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":189},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":190},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":191},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"movies\""],"properties":{"class":"token string","key":192},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":193},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":194},"type":"__VNODE_TYPE"}," previousMovies",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":195},"type":"__VNODE_TYPE"},{"tag":"span","children":["concat"],"properties":{"class":"token method function property-access","key":196},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":197},"type":"__VNODE_TYPE"},"json",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":198},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["Search"],"properties":{"class":"token maybe-class-name","key":199},"type":"__VNODE_TYPE"}],"properties":{"class":"token property-access","key":200},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":201},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":202},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":203},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["replace"],"properties":{"class":"token function","key":204},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":205},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":206},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":207},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"movies\""],"properties":{"class":"token string","key":208},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":209},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":210},"type":"__VNODE_TYPE"}," json",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":211},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["Search"],"properties":{"class":"token maybe-class-name","key":212},"type":"__VNODE_TYPE"}],"properties":{"class":"token property-access","key":213},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":214},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":215},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":216},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["["],"properties":{"class":"token punctuation","key":217},"type":"__VNODE_TYPE"},"\n      updater",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":218},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["replace"],"properties":{"class":"token function","key":219},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":220},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":221},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":222},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"value\""],"properties":{"class":"token string","key":223},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":224},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":225},"type":"__VNODE_TYPE"}," value",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":226},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":227},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["replace"],"properties":{"class":"token function","key":228},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":229},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":230},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":231},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"page\""],"properties":{"class":"token string","key":232},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":233},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":234},"type":"__VNODE_TYPE"}," currentPage",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":235},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":236},"type":"__VNODE_TYPE"},"\n      ",{"tag":"span","children":["replace"],"properties":{"class":"token function","key":237},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":238},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":239},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":240},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"pagingEnabled\""],"properties":{"class":"token string","key":241},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":242},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":243},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["true"],"properties":{"class":"token boolean","key":244},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":245},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["]"],"properties":{"class":"token punctuation","key":246},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":247},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":248},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":249},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":250},"type":"__VNODE_TYPE"},"\n"],"properties":{"class":"language-ts","key":251},"type":"__VNODE_TYPE"}],"properties":{"class":"language-ts","key":252},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["With ",{"tag":"code","children":["search"],"properties":{"key":253},"type":"__VNODE_TYPE"}," process updated to manage paging results for our movie queries, we can move on to using the Intersection Observer in our application to implement it."],"properties":{"key":254},"type":"__VNODE_TYPE"},"\n",{"tag":"h2","children":["Intersection Middleware"],"properties":{"id":"intersection-middleware-1","key":255},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["The ",{"tag":"code","children":["intersection"],"properties":{"key":256},"type":"__VNODE_TYPE"}," middleware has a fairly basic API. You can ask for information about a specific element based on the ",{"tag":"code","children":["key"],"properties":{"key":257},"type":"__VNODE_TYPE"}," of that element."],"properties":{"key":258},"type":"__VNODE_TYPE"},"\n",{"tag":"pre","children":[{"tag":"code","children":[{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":259},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":260},"type":"__VNODE_TYPE"}," intersectionRatio",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":261},"type":"__VNODE_TYPE"}," isIntersecting ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":262},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":263},"type":"__VNODE_TYPE"}," intersection",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":264},"type":"__VNODE_TYPE"},{"tag":"span","children":["get"],"properties":{"class":"token keyword","key":265},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":266},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"key-name\""],"properties":{"class":"token string","key":267},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":268},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":269},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["..."],"properties":{"class":"token spread operator","key":270},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["// element in a widget"],"properties":{"class":"token comment","key":271},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":272},"type":"__VNODE_TYPE"},"div"],"properties":{"class":"token tag","key":273},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["key"],"properties":{"class":"token attr-name","key":274},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token punctuation","key":275},"type":"__VNODE_TYPE"},{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":276},"type":"__VNODE_TYPE"},"key-name",{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":277},"type":"__VNODE_TYPE"}],"properties":{"class":"token attr-value","key":278},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["/>"],"properties":{"class":"token punctuation","key":279},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":280},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":281},"type":"__VNODE_TYPE"},"\n"],"properties":{"class":"language-tsx","key":282},"type":"__VNODE_TYPE"}],"properties":{"class":"language-tsx","key":283},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["The ",{"tag":"code","children":["intersection"],"properties":{"key":284},"type":"__VNODE_TYPE"}," middleware will now tell you if the element is currently intersecting the page, and if you need it, you can find out how much of that element is intersecting the page. The ",{"tag":"code","children":["intersectionRatio"],"properties":{"key":285},"type":"__VNODE_TYPE"}," will be a value between ",{"tag":"code","children":["0.0"],"properties":{"key":286},"type":"__VNODE_TYPE"}," and ",{"tag":"code","children":["1"],"properties":{"key":287},"type":"__VNODE_TYPE"},"."],"properties":{"key":288},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["In the ",{"tag":"code","children":["App"],"properties":{"key":289},"type":"__VNODE_TYPE"}," widget, we can add an empty element to the bottom of the page, so as we scroll, once it intersects with the viewport, we can fetch more movies to display."],"properties":{"key":290},"type":"__VNODE_TYPE"},"\n",{"tag":"pre","children":[{"tag":"code","children":[{"tag":"span","children":["// src/widgets/App.tsx"],"properties":{"class":"token comment","key":291},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["export"],"properties":{"class":"token keyword","key":292},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":293},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["App"],"properties":{"class":"token maybe-class-name","key":294},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":295},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["factory"],"properties":{"class":"token function","key":296},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":297},"type":"__VNODE_TYPE"},{"tag":"span","children":["function"],"properties":{"class":"token keyword","key":298},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":[{"tag":"span","children":["App"],"properties":{"class":"token maybe-class-name","key":299},"type":"__VNODE_TYPE"}],"properties":{"class":"token function","key":300},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":301},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":302},"type":"__VNODE_TYPE"},"\n  middleware",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":303},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":304},"type":"__VNODE_TYPE"}," intersection",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":305},"type":"__VNODE_TYPE"}," store ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":306},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":307},"type":"__VNODE_TYPE"}],"properties":{"class":"token parameter","key":308},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":309},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":310},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":311},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":312},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["get"],"properties":{"class":"token keyword","key":313},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":314},"type":"__VNODE_TYPE"}," path ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":315},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":316},"type":"__VNODE_TYPE"}," store",{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":317},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":318},"type":"__VNODE_TYPE"}," movies ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":319},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["get"],"properties":{"class":"token keyword","key":320},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":321},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":322},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":323},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"movies\""],"properties":{"class":"token string","key":324},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":325},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":326},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":327},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":328},"type":"__VNODE_TYPE"}," pagingEnabled ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":329},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["get"],"properties":{"class":"token keyword","key":330},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":331},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":332},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":333},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"pagingEnabled\""],"properties":{"class":"token string","key":334},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":335},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":336},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":337},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["if"],"properties":{"class":"token keyword","key":338},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":339},"type":"__VNODE_TYPE"},{"tag":"span","children":["!"],"properties":{"class":"token operator","key":340},"type":"__VNODE_TYPE"},"movies",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":341},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":342},"type":"__VNODE_TYPE"},"\n    store",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":343},"type":"__VNODE_TYPE"},{"tag":"span","children":["executor"],"properties":{"class":"token method function property-access","key":344},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":345},"type":"__VNODE_TYPE"},"fetchInitialMovies",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":346},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":347},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":348},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":349},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":350},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":351},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":352},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["// get current intersection information"],"properties":{"class":"token comment","key":353},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":354},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":355},"type":"__VNODE_TYPE"}," intersectionRatio",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":356},"type":"__VNODE_TYPE"}," isIntersecting ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":357},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":358},"type":"__VNODE_TYPE"}," intersection",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":359},"type":"__VNODE_TYPE"},{"tag":"span","children":["get"],"properties":{"class":"token keyword","key":360},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":361},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"app-footer\""],"properties":{"class":"token string","key":362},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":363},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":364},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["// Check for three things"],"properties":{"class":"token comment","key":365},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["// 1. Is the element completely in the viewport?"],"properties":{"class":"token comment","key":366},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["// 2. Is the element currently intersecting?"],"properties":{"class":"token comment","key":367},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["// 3. Is paging enabled, meaning can I get more results?"],"properties":{"class":"token comment","key":368},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["if"],"properties":{"class":"token keyword","key":369},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":370},"type":"__VNODE_TYPE"},"intersectionRatio ",{"tag":"span","children":["==="],"properties":{"class":"token operator","key":371},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["1"],"properties":{"class":"token number","key":372},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["&&"],"properties":{"class":"token operator","key":373},"type":"__VNODE_TYPE"}," isIntersecting ",{"tag":"span","children":["&&"],"properties":{"class":"token operator","key":374},"type":"__VNODE_TYPE"}," pagingEnabled",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":375},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":376},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":377},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":378},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["get"],"properties":{"class":"token keyword","key":379},"type":"__VNODE_TYPE"},{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":380},"type":"__VNODE_TYPE"}," path ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":381},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":382},"type":"__VNODE_TYPE"}," store",{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":383},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["const"],"properties":{"class":"token keyword","key":384},"type":"__VNODE_TYPE"}," value ",{"tag":"span","children":["="],"properties":{"class":"token operator","key":385},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["get"],"properties":{"class":"token keyword","key":386},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":387},"type":"__VNODE_TYPE"},{"tag":"span","children":["path"],"properties":{"class":"token function","key":388},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":389},"type":"__VNODE_TYPE"},{"tag":"span","children":["\"value\""],"properties":{"class":"token string","key":390},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":391},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":392},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":393},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":["// if all the above are true, fetch more movies"],"properties":{"class":"token comment","key":394},"type":"__VNODE_TYPE"},"\n    store",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":395},"type":"__VNODE_TYPE"},{"tag":"span","children":["executor"],"properties":{"class":"token method function property-access","key":396},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":397},"type":"__VNODE_TYPE"},"fetchMovies",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":398},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":399},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":400},"type":"__VNODE_TYPE"}," value ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":401},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":402},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":403},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":404},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":["return"],"properties":{"class":"token keyword","key":405},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":406},"type":"__VNODE_TYPE"},"\n    ",{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":407},"type":"__VNODE_TYPE"},"div"],"properties":{"class":"token tag","key":408},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["classes"],"properties":{"class":"token attr-name","key":409},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":410},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":411},"type":"__VNODE_TYPE"},{"tag":"span","children":["["],"properties":{"class":"token punctuation","key":412},"type":"__VNODE_TYPE"},"css",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":413},"type":"__VNODE_TYPE"},{"tag":"span","children":["root"],"properties":{"class":"token property-access","key":414},"type":"__VNODE_TYPE"},{"tag":"span","children":["]"],"properties":{"class":"token punctuation","key":415},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":416},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":417},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":418},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":419},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n      "],"properties":{"class":"token plain-text","key":420},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":421},"type":"__VNODE_TYPE"},{"tag":"span","children":["Header"],"properties":{"class":"token class-name","key":422},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":423},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["title"],"properties":{"class":"token attr-name","key":424},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token punctuation","key":425},"type":"__VNODE_TYPE"},{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":426},"type":"__VNODE_TYPE"},"Dojo Movie Search",{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":427},"type":"__VNODE_TYPE"}],"properties":{"class":"token attr-value","key":428},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["/>"],"properties":{"class":"token punctuation","key":429},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":430},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n      "],"properties":{"class":"token plain-text","key":431},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":432},"type":"__VNODE_TYPE"},{"tag":"span","children":["Search"],"properties":{"class":"token class-name","key":433},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":434},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["/>"],"properties":{"class":"token punctuation","key":435},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":436},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n      "],"properties":{"class":"token plain-text","key":437},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":438},"type":"__VNODE_TYPE"},"p"],"properties":{"class":"token tag","key":439},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":440},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":441},"type":"__VNODE_TYPE"},{"tag":"span","children":["Sharing a few of our favorite movies"],"properties":{"class":"token plain-text","key":442},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":443},"type":"__VNODE_TYPE"},"p"],"properties":{"class":"token tag","key":444},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":445},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":446},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n      "],"properties":{"class":"token plain-text","key":447},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":448},"type":"__VNODE_TYPE"},"div"],"properties":{"class":"token tag","key":449},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["classes"],"properties":{"class":"token attr-name","key":450},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":451},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":452},"type":"__VNODE_TYPE"},{"tag":"span","children":["["],"properties":{"class":"token punctuation","key":453},"type":"__VNODE_TYPE"},"css",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":454},"type":"__VNODE_TYPE"},{"tag":"span","children":["movies"],"properties":{"class":"token property-access","key":455},"type":"__VNODE_TYPE"},{"tag":"span","children":["]"],"properties":{"class":"token punctuation","key":456},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":457},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":458},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":459},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":460},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n        "],"properties":{"class":"token plain-text","key":461},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":462},"type":"__VNODE_TYPE"},"movies ",{"tag":"span","children":["?"],"properties":{"class":"token operator","key":463},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":464},"type":"__VNODE_TYPE"},"\n          movies",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":465},"type":"__VNODE_TYPE"},{"tag":"span","children":["map"],"properties":{"class":"token method function property-access","key":466},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":467},"type":"__VNODE_TYPE"},{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":468},"type":"__VNODE_TYPE"},{"tag":"span","children":["movie",{"tag":"span","children":[","],"properties":{"class":"token punctuation","key":469},"type":"__VNODE_TYPE"}," index"],"properties":{"class":"token parameter","key":470},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":471},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["=>"],"properties":{"class":"token arrow operator","key":472},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":473},"type":"__VNODE_TYPE"},"\n            ",{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":474},"type":"__VNODE_TYPE"},{"tag":"span","children":["Movie"],"properties":{"class":"token class-name","key":475},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":476},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["key"],"properties":{"class":"token attr-name","key":477},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":478},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":479},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["`"],"properties":{"class":"token template-punctuation string","key":480},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["${"],"properties":{"class":"token interpolation-punctuation punctuation","key":481},"type":"__VNODE_TYPE"},"index",{"tag":"span","children":["}"],"properties":{"class":"token interpolation-punctuation punctuation","key":482},"type":"__VNODE_TYPE"}],"properties":{"class":"token interpolation","key":483},"type":"__VNODE_TYPE"},{"tag":"span","children":["-"],"properties":{"class":"token string","key":484},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["${"],"properties":{"class":"token interpolation-punctuation punctuation","key":485},"type":"__VNODE_TYPE"},"movie",{"tag":"span","children":["."],"properties":{"class":"token punctuation","key":486},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["Title"],"properties":{"class":"token maybe-class-name","key":487},"type":"__VNODE_TYPE"}],"properties":{"class":"token property-access","key":488},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token interpolation-punctuation punctuation","key":489},"type":"__VNODE_TYPE"}],"properties":{"class":"token interpolation","key":490},"type":"__VNODE_TYPE"},{"tag":"span","children":["`"],"properties":{"class":"token template-punctuation string","key":491},"type":"__VNODE_TYPE"}],"properties":{"class":"token template-string","key":492},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":493},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":494},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["movie"],"properties":{"class":"token attr-name","key":495},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token script-punctuation punctuation","key":496},"type":"__VNODE_TYPE"},{"tag":"span","children":["{"],"properties":{"class":"token punctuation","key":497},"type":"__VNODE_TYPE"},"movie",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":498},"type":"__VNODE_TYPE"}],"properties":{"class":"token script language-javascript","key":499},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["/>"],"properties":{"class":"token punctuation","key":500},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":501},"type":"__VNODE_TYPE"},"\n          ",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":502},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":503},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":504},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":[":"],"properties":{"class":"token punctuation","key":505},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["("],"properties":{"class":"token punctuation","key":506},"type":"__VNODE_TYPE"},"\n          ",{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":507},"type":"__VNODE_TYPE"},"virtual"],"properties":{"class":"token tag","key":508},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["/>"],"properties":{"class":"token punctuation","key":509},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":510},"type":"__VNODE_TYPE"},"\n        ",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":511},"type":"__VNODE_TYPE"},{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":512},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n        "],"properties":{"class":"token plain-text","key":513},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["<"],"properties":{"class":"token punctuation","key":514},"type":"__VNODE_TYPE"},"div"],"properties":{"class":"token tag","key":515},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["key"],"properties":{"class":"token attr-name","key":516},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":["="],"properties":{"class":"token punctuation","key":517},"type":"__VNODE_TYPE"},{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":518},"type":"__VNODE_TYPE"},"app-footer",{"tag":"span","children":["\""],"properties":{"class":"token punctuation","key":519},"type":"__VNODE_TYPE"}],"properties":{"class":"token attr-value","key":520},"type":"__VNODE_TYPE"}," ",{"tag":"span","children":["/>"],"properties":{"class":"token punctuation","key":521},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":522},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n      "],"properties":{"class":"token plain-text","key":523},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":524},"type":"__VNODE_TYPE"},"div"],"properties":{"class":"token tag","key":525},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":526},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":527},"type":"__VNODE_TYPE"},{"tag":"span","children":["\n    "],"properties":{"class":"token plain-text","key":528},"type":"__VNODE_TYPE"},{"tag":"span","children":[{"tag":"span","children":[{"tag":"span","children":["</"],"properties":{"class":"token punctuation","key":529},"type":"__VNODE_TYPE"},"div"],"properties":{"class":"token tag","key":530},"type":"__VNODE_TYPE"},{"tag":"span","children":[">"],"properties":{"class":"token punctuation","key":531},"type":"__VNODE_TYPE"}],"properties":{"class":"token tag","key":532},"type":"__VNODE_TYPE"},"\n  ",{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":533},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":534},"type":"__VNODE_TYPE"},"\n",{"tag":"span","children":["}"],"properties":{"class":"token punctuation","key":535},"type":"__VNODE_TYPE"},{"tag":"span","children":[")"],"properties":{"class":"token punctuation","key":536},"type":"__VNODE_TYPE"},{"tag":"span","children":[";"],"properties":{"class":"token punctuation","key":537},"type":"__VNODE_TYPE"},"\n"],"properties":{"class":"language-tsx","key":538},"type":"__VNODE_TYPE"}],"properties":{"class":"language-tsx","key":539},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["Now we can freely scroll through our search results and fetch more data as we need it. A user may never scroll through all the results and thus we don't need to fetch everything up front, only what's needed."],"properties":{"key":540},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["You can see this application here."],"properties":{"key":541},"type":"__VNODE_TYPE"},"\n",{"tag":"iframe","properties":{"src":"https://codesandbox.io/embed/dojo-movie-search-intersection-observer-v232h?fontsize=14&module=%2Fsrc%2Fwidgets%2FApp.tsx&theme=light","width":"100%","height":500,"allowfullscreen":true,"frameborder":"0","key":542},"type":"__VNODE_TYPE"},"\n",{"tag":"h2","children":["Summary"],"properties":{"id":"summary","key":543},"type":"__VNODE_TYPE"},"\n",{"tag":"p","children":["The ",{"tag":"code","children":["intersection"],"properties":{"key":544},"type":"__VNODE_TYPE"}," middleware provides a clean and simple way for you to determine if an element is currently in the viewport of the page. This opens up the possibility for you to do some interesting UI optimizations, such as limit network traffic, lazy-load images or even entire sets of widgets or tools that only appear at the end of the page. You have the freedom to be creative with how you use it!"],"properties":{"key":545},"type":"__VNODE_TYPE"}],"properties":{"key":546},"type":"__VNODE_TYPE"},"meta":{"title":"Intersection Observer with Dojo","date":"2019-11-22T00:00:00.000Z","author":"Rene Rubalcava","description":"Learn how to use the Intersection Observer middleware in your Dojo applications","tags":"javascript, dojo, webdev, middleware, dojo6","cover_image":"/assets/blog/dojo-intersection-observer.jpg","published":true}});
/***/ })
}]);
